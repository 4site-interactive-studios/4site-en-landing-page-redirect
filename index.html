<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homepage Takeover Redirect - General Example Landing Page</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }
      .header {
        background-color: #00689f;
        color: white;
        padding: 20px;
        border-radius: 5px;
        margin-bottom: 30px;
      }
      .content {
        background-color: #f5f5f5;
        padding: 20px;
        border-radius: 5px;
        margin-bottom: 20px;
      }
      .info-box {
        background-color: #fff3cd;
        border: 1px solid #ffc107;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
      }
      .code-block {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        font-size: 14px;
      }
      .test-links {
        margin-top: 20px;
      }
      .test-links a {
        display: inline-block;
        margin: 5px 10px 5px 0;
        padding: 8px 15px;
        background-color: #00689f;
        color: white;
        text-decoration: none;
        border-radius: 3px;
      }
      .test-links a:hover {
        background-color: #005080;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>Generic Example Landing Page</h1>
      <p>This is a demonstration of the Homepage Takeover Redirect system</p>
    </div>

    <div class="content">
      <h2>How This Works</h2>
      <p>
        This page demonstrates the landing page redirect functionality. The
        script below will automatically redirect visitors to an Engaging
        Networks donation page on configured dates.
      </p>

      <div class="info-box">
        <strong>Note:</strong> In production, this script would typically be
        loaded via Google Tag Manager (GTM) rather than directly in the HTML.
        This example shows it inline for demonstration purposes.
      </div>

      <h3>Testing the Redirect</h3>
      <p>
        You can test the redirect functionality using the following URL
        parameters:
      </p>
      <ul>
        <li>
          <strong>Simulate a date:</strong> Add
          <code>?simulate-date=2025-12-03</code> to test December 3rd, 2025
          redirects
        </li>
        <li>
          <strong>Opt out:</strong> Add <code>?no-redirect</code> to prevent
          redirects
        </li>
        <li>
          <strong>Combined:</strong>
          <code>?simulate-date=2025-12-03&no-redirect</code> to simulate a date
          but opt out
        </li>
      </ul>

      <div class="test-links" id="test-links">
        <a href="#" data-date="2025-12-03">Test: Dec 3, 2025</a>
        <a href="#" data-date="2025-12-30">Test: Dec 30, 2025</a>
        <a href="#" data-date="2025-12-31">Test: Dec 31, 2025</a>
        <a href="#" data-date="2025-01-15">Test: Jan 15, 2025 (No redirect)</a>
        <a href="#" data-no-redirect>Opt Out</a>
      </div>
      <script>
        // Set up test link URLs dynamically
        (function () {
          const testLinks = document.getElementById("test-links");
          if (testLinks) {
            const baseUrl = window.location.pathname;
            const links = testLinks.querySelectorAll("a[data-date]");
            links.forEach(function (link) {
              link.href =
                baseUrl + "?simulate-date=" + link.getAttribute("data-date");
            });
            const noRedirectLink = testLinks.querySelector(
              "a[data-no-redirect]"
            );
            if (noRedirectLink) {
              noRedirectLink.href = baseUrl + "?no-redirect";
            }
          }
        })();
      </script>
    </div>

    <div class="content">
      <h2>Configuration</h2>
      <p>
        The redirect dates are configured in the <code>urlsByDate</code> object
        in the script below. Currently configured dates:
      </p>
      <ul>
        <li>
          <strong>December 3, 2025</strong> - Redirects to Engaging Networks
          page
        </li>
        <li>
          <strong>December 30, 2025</strong> - Redirects to Engaging Networks
          page
        </li>
        <li>
          <strong>December 31, 2025</strong> - Redirects to Engaging Networks
          page
        </li>
      </ul>
    </div>

    <!-- 
        ============================================================================
        LANDING PAGE REDIRECT SCRIPT
        ============================================================================
        In production, this script would be loaded via Google Tag Manager (GTM).
        For this example, it's loaded from an external file with inline configuration.
        
        To use in GTM:
        1. Create a Custom HTML tag
        2. Include the configuration object and script reference as shown below
        3. Configure the trigger to fire on your landing page(s)
        4. Publish the container
        ============================================================================
    -->
    <script>
      // ============================================================================
      // CONFIGURATION
      // ============================================================================
      // Configure the dates and corresponding Engaging Networks page URLs
      // Date format: "YYYY-MM-DD" (e.g., "2025-12-03" for December 3rd, 2025)
      // Include any necessary URL parameters such as tracking codes in the URLs
      window.landingPageRedirectConfig = {
        urlsByDate: {
          "2025-12-03":
            "https://support.yourorganization.org/page/12345/donate/1?transaction.othamt1=TRACKINGCODE",
          "2025-12-30":
            "https://support.yourorganization.org/page/12345/donate/1?transaction.othamt1=TRACKINGCODE",
          "2025-12-31":
            "https://support.yourorganization.org/page/12345/donate/1?transaction.othamt1=TRACKINGCODE",
        },
        suppressionCookie: "redirectSuppressed",
        suppressionDurationDays: 1,
      };
    </script>
    <script src="redirect-script.js"></script>
  </body>
</html>
